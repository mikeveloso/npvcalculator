@using HtmlHelpers.BeginCollectionItemCore
@using NpvCalculator.Models

@model IEnumerable<CashFlow>

@foreach (var cashFlow in Model)
{
    @using (Html.BeginCollectionItem("CashFlows"))
    {
        <div class="cashflow-item control-group">
            <label class="control-label">Cash flow @cashFlow.Year:</label>
            @*@Html.HiddenFor(c => cashFlow.Year, new { @id = "txtYear" + cashFlow.Year.ToString() })*@
            @Html.HiddenFor(c => cashFlow.Year)
            <div class="controls">
                @*@Html.TextBoxFor(c => cashFlow.Amount, new { @id="txtCashFlow" + cashFlow.Year.ToString(), @class="valid", @maxlength="11", @required="", @pattern="^-?([0-9]+|[0-9]{1,3}(,[0-9]{3})*)(\\.[0-9]{1,2})?$" })*@
                @Html.TextBoxFor(c => cashFlow.Amount, new { @class = "valid", @maxlength = "11", @required = "", @pattern = "^-?([0-9]+|[0-9]{1,3}(,[0-9]{3})*)(\\.[0-9]{1,2})?$" })
            </div>
        </div>
    }
}